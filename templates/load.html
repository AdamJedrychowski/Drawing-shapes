{% extends "nav.html" %}
{% block content%}

<script src="{{ url_for('static', filename='call.js') }}"></script>

<main class="container table-responsive">
    <header>
        <h2>Circles settings</h2>
    </header>
    <table class="table table-striped table-fixed">
        <thead>
            <tr>
                <th scope="col">Nr</th>
                <th scope="col">Contains</th>
                <th scope="col">Time of drawing</th>
                <th scope="col">Select settings</th>
            </tr>
        </thead>
        <tbody>
            {% for i, x in circlesSettings|enumerate %}
            <tr id='circle-{{ x[0] }}'>
                <th scope="row"><button type="button" class="btn btn-default btn-sm" data-toggle="collapse" data-target="#collapse-{{ x[0] }}" style="color:#007bff;">+</button></td>
                <td>{{ x[1] }}</td>
                <td>{{ x[2] }}</td>
                <td><button type="button" onclick="apply({{ x[0] }})" class="btn btn-default btn-sm">Apply</button></td>
                <td><button type="button" onclick="deleteRec({{ x[0] }})" class="close" style="color:red;">&times;</button></td>
            </tr>
            <tr>
                <td colspan="3">
                    <div id="collapse-{{ x[0] }}" class="collapse">
                        <table class="table">
                            <thead class="thead-light">
                              <tr>
                                <th>Circle number</th>
                                <th>Radius</th>
                                <th>Time</th>
                              </tr>
                            </thead>
                            <tbody id="show-circle-{{ x[0] }}">
                            {% for circle in circles[i] %}
                                <tr>
                                    <th scope="row">{{ loop.index }}</th>
                                    <th>{{ circle[0] }}</th>
                                    <th>{{ circle[1] }}</th>
                                </tr>    
                            {% endfor %}
                            </tbody>
                          </table>
                          
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

</main>

{% endblock %}